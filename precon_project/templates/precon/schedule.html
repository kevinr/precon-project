{% extends "base.html" %}

{% block title %}Precon Schedule{% endblock %}

{% block extra_css %}
<style>
    .table td {
        text-align: center;
    }
    .table thead th.room {
        text-align: center;
    }
    a.edit-link {
        font-size: 75%;
    }
</style>
{% endblock %}

{% block page_title %}Precon Schedule{% endblock %}

{% block content %}

{% for day, table_contents in table %}
<table class="table table-striped table-bordered table-responsive table-compact">
    <thead>
    <tr><th class="day" span="{{days.count}} + 1">{{day}}</th></tr>
    <tr>
    <th></th>
    {% for room in rooms %}
        <th class="room">{{room}}</th>
    {% endfor %}
    </tr>
    </thead>

    <tbody>
    {% for slot, rooms_panels in table_contents %}
        {% if slot.panels.count > 0 %}
            <tr>
            <th>{{slot}}</th>
            {% for room, panel in rooms_panels %}
                {% if panel %}
                    {% if slot == panel.slot.all.0 %}
                        <td rowspan="{{panel.length}}">
                            <p><a href="{% url 'panel_list' %}#{{panel.anchor}}">{{panel.name}}</a> {% if request.user.is_staff %}<a class="edit-link" href="{{ panel.get_admin_url }}">[Edit]</a>{% endif %}</p>
                            <p>{{panel.panelists_nbsp|join:", "}}</p>
                        </td>
                    {% endif %}
                {% else %}
                    <td>&nbsp;</td>
                {% endif %}
            {% endfor %}
            </tr>
        {% endif %}
    {% endfor %}
    </tbody>
</table>
{% endfor %}
        

{% endblock %}
