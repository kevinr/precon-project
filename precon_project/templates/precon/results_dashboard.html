{% extends "base.html" %}

{% load precon_misc %}

{% block title %}Precon Survey Comments{% endblock %}

{% block page_title %}Precon Survey Comments{% endblock %}

{% block content %}

    <h2>Attending Comments</h2>
    <ul>
    {% for pp in panel_proposals %}
        {% if pp.responses %}
            <li><b>{{pp}}</b>:
            <ul>
            {% for ppr in pp.responses %}
                {% if ppr.attending_comments %}
                    <li>From {{ppr.participant}}: <blockquote>{{ppr.attending_comments}}</blockquote></li>
                {% endif %}
            {% endfor %}
            </ul>
            </li>
        {% endif %}
    {% endfor %}
    </ul>

    <h2>Presenting Comments</h2>
    <ul>
    {% for pp in panel_proposals %}
        {% if pp.responses %}
            <li><b>{{pp}}</b>:
            <ul>
            {% for ppr in pp.responses %}
                {% if ppr.presenting_comments %}
                    <li>From {{ppr.participant}}: <blockquote>{{ppr.presenting_comments}}</blockquote></li>
                {% endif %}
            {% endfor %}
            </ul>
            </li>
        {% endif %}
    {% endfor %}
    </ul>

    {% queryexclude participants panel_proposals_responded=None as completed %}
    <h2>Completed the Survey</h2>
    <ul>
    {% for p in completed %}
        <li>{{p}}</li>
    {% endfor %}
    </ul>
    <p>Total: {{completed.count}}</p>

    {% queryfilter participants panel_proposals_responded=None as uncompleted %}
    <h2>Did Not Complete the Survey</h2>
    <ul>
    {% for p in uncompleted %}
        <li>{{p}}</li>
    {% endfor %}
    </ul>
    <p>Total: {{uncompleted.count}}</p>

{% endblock %}
